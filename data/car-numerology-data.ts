export interface CarNumerologyData {
  number: number
  name: string
  personality: string
  energy: string
  suitableFor: string[]
  drivingStyle: string
  familyCompatibility: string
  businessUse: string
  color: string
  emoji: string
}

export const carNumerologyData: Record<number, CarNumerologyData> = {
  1: {
    number: 1,
    name: "ãƒªãƒ¼ãƒ€ãƒ¼ã‚«ãƒ¼",
    personality: "è¡Œå‹•åŠ›ãƒ»ç‹¬ç«‹å¿ƒãŒå¼·ãã€æ–°ã—ã„ã“ã¨ã«æŒ‘æˆ¦ã™ã‚‹ã‚¨ãƒãƒ«ã‚®ãƒ¼ã€‚ãƒ‰ãƒ©ã‚¤ãƒãƒ¼ã‚’å‰å‘ãã«å°ãã€‚",
    energy: "ç©æ¥µçš„ãƒ»å…ˆé§†çš„ãƒ»ç‹¬ç«‹çš„",
    suitableFor: ["èµ·æ¥­å®¶", "å–¶æ¥­è·", "æ–°è¦äº‹æ¥­", "ä¸€äººæ—…"],
    drivingStyle: "ç©æ¥µçš„ã§æ±ºæ–­åŠ›ã®ã‚ã‚‹é‹è»¢",
    familyCompatibility: "å®¶æ—ã®ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ã‚’ç™ºæ®",
    businessUse: "æ–°è¦é–‹æ‹“ã‚„å–¶æ¥­æ´»å‹•ã«æœ€é©",
    color: "#FF6B6B",
    emoji: "ğŸ”¥",
  },
  2: {
    number: 2,
    name: "ã‚µãƒãƒ¼ãƒˆã‚«ãƒ¼",
    personality: "å”èª¿æ€§ã‚„æ°—é…ã‚Šã«å„ªã‚Œã€å®¶æ—ã‚„ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã‚·ãƒƒãƒ—ã‚’å¤§åˆ‡ã«ã™ã‚‹ã€‚ç©ã‚„ã‹ãªé‹è»¢ã‚„åŒä¹—è€…ã¨ã®èª¿å’Œã‚’ç”Ÿã‚€ã€‚",
    energy: "å”èª¿çš„ãƒ»æ€ã„ã‚„ã‚Šãƒ»ãƒãƒ©ãƒ³ã‚¹",
    suitableFor: ["å¤«å©¦", "ã‚«ãƒƒãƒ—ãƒ«", "ãƒãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯", "ä»‹è­·"],
    drivingStyle: "å®‰å…¨ã§æ€ã„ã‚„ã‚Šã®ã‚ã‚‹é‹è»¢",
    familyCompatibility: "å®¶æ—ã®çµ†ã‚’æ·±ã‚ã‚‹",
    businessUse: "ãƒãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚„å”åŠ›é–¢ä¿‚ã‚’é‡è¦–ã™ã‚‹æ¥­å‹™",
    color: "#4ECDC4",
    emoji: "ğŸ¤",
  },
  3: {
    number: 3,
    name: "æ¥½ã—ã¿ã‚«ãƒ¼",
    personality: "æ˜ã‚‹ãé™½æ°—ã§ã€ãƒ‰ãƒ©ã‚¤ãƒ–ã‚„ãƒ¬ã‚¸ãƒ£ãƒ¼ã«æœ€é©ã€‚éŠã³å¿ƒã‚„ãƒ¯ã‚¯ãƒ¯ã‚¯æ„Ÿã‚’ã‚‚ãŸã‚‰ã™ã€‚",
    energy: "å‰µé€ çš„ãƒ»æ¥½è¦³çš„ãƒ»è¡¨ç¾åŠ›è±Šã‹",
    suitableFor: ["ãƒ¬ã‚¸ãƒ£ãƒ¼", "å‹äººã¨ã®å¤–å‡º", "ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–æ´»å‹•", "è¶£å‘³"],
    drivingStyle: "æ¥½ã—ãè‡ªç”±ãªé‹è»¢ã‚¹ã‚¿ã‚¤ãƒ«",
    familyCompatibility: "å®¶æ—ã«ç¬‘é¡”ã¨æ¥½ã—ã•ã‚’æä¾›",
    businessUse: "ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–æ¥­ç•Œã‚„æ¥å®¢æ¥­ã«å‘ã",
    color: "#FFE66D",
    emoji: "ğŸ‰",
  },
  4: {
    number: 4,
    name: "å®‰å®šã‚«ãƒ¼",
    personality: "å®‰å…¨é‹è»¢ãƒ»å …å®Ÿå¿—å‘ã€‚æ—¥å¸¸ä½¿ã„ã‚„å®¶æ—ã®é€è¿ã«å®‰å¿ƒæ„Ÿã‚’ä¸ãˆã‚‹ã€‚",
    energy: "å®‰å®šçš„ãƒ»å®Ÿç”¨çš„ãƒ»ä¿¡é ¼æ€§",
    suitableFor: ["é€šå‹¤", "é€è¿", "æ—¥å¸¸ä½¿ã„", "é•·æœŸåˆ©ç”¨"],
    drivingStyle: "æ…é‡ã§è¨ˆç”»çš„ãªé‹è»¢",
    familyCompatibility: "å®¶æ—ã«å®‰å¿ƒã¨å®‰å®šã‚’æä¾›",
    businessUse: "å …å®Ÿãªæ¥­å‹™ã‚„å®šæœŸçš„ãªç§»å‹•ã«æœ€é©",
    color: "#95E1D3",
    emoji: "ğŸ›¡ï¸",
  },
  5: {
    number: 5,
    name: "è‡ªç”±ã‚«ãƒ¼",
    personality: "è¡Œå‹•ç¯„å›²ãŒåºƒãã€æ—…è¡Œã‚„å†’é™ºã«ã´ã£ãŸã‚Šã€‚å¤‰åŒ–ã‚„åˆºæ¿€ã‚’æ¥½ã—ã¿ãŸã„äººå‘ã‘ã€‚",
    energy: "è‡ªç”±ãƒ»å†’é™ºãƒ»å¤‰åŒ–",
    suitableFor: ["æ—…è¡Œ", "ã‚¢ã‚¦ãƒˆãƒ‰ã‚¢", "æ¢æ¤œ", "è»¢å‹¤æ—"],
    drivingStyle: "è‡ªç”±ã§å†’é™ºçš„ãªé‹è»¢",
    familyCompatibility: "å®¶æ—ã«æ–°ã—ã„ä½“é¨“ã‚’æä¾›",
    businessUse: "å–¶æ¥­ã‚„å‡ºå¼µã®å¤šã„æ¥­å‹™ã«å‘ã",
    color: "#A8E6CF",
    emoji: "ğŸŒ",
  },
  6: {
    number: 6,
    name: "ãƒ•ã‚¡ãƒŸãƒªãƒ¼ã‚«ãƒ¼",
    personality: "æ„›æƒ…ã‚„å®¶åº­é‹ãŒå¼·ãã€å®¶æ—ã®çµ†ã‚’æ·±ã‚ã‚‹ã€‚å®¶æ—æ—…è¡Œã‚„é€è¿ã«ãŠã™ã™ã‚ã€‚",
    energy: "æ„›æƒ…ãƒ»è²¬ä»»æ„Ÿãƒ»å®¶åº­çš„",
    suitableFor: ["å®¶æ—æ—…è¡Œ", "å­è‚²ã¦", "ä»‹è­·", "åœ°åŸŸæ´»å‹•"],
    drivingStyle: "å®¶æ—æ€ã„ã®å®‰å…¨é‹è»¢",
    familyCompatibility: "å®¶æ—ã®ä¸­å¿ƒçš„å­˜åœ¨",
    businessUse: "ã‚µãƒ¼ãƒ“ã‚¹æ¥­ã‚„æ•™è‚²é–¢ä¿‚ã«å‘ã",
    color: "#FFB6C1",
    emoji: "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦",
  },
  7: {
    number: 7,
    name: "å€‹å®¤ã‚«ãƒ¼",
    personality: "é™å¯‚ã‚„å†…çœã‚’å¤§åˆ‡ã«ã—ã€ä¸€äººã®æ™‚é–“ã‚„è½ã¡ç€ã„ãŸãƒ‰ãƒ©ã‚¤ãƒ–ã«å‘ãã€‚",
    energy: "å†…çœçš„ãƒ»ç¥ç§˜çš„ãƒ»ç‹¬ç«‹çš„",
    suitableFor: ["ä¸€äººæ—…", "ç‘æƒ³", "ç ”ç©¶", "èŠ¸è¡“æ´»å‹•"],
    drivingStyle: "é™ã‹ã§é›†ä¸­ã—ãŸé‹è»¢",
    familyCompatibility: "å®¶æ—ã«è½ã¡ç€ãã¨æ·±ã„æ€è€ƒã‚’ä¿ƒã™",
    businessUse: "ç ”ç©¶è·ã‚„å°‚é–€è·ã«å‘ã",
    color: "#DDA0DD",
    emoji: "ğŸ§˜â€â™‚ï¸",
  },
  8: {
    number: 8,
    name: "ãƒ‘ãƒ¯ãƒ•ãƒ«ã‚«ãƒ¼",
    personality: "ã‚¨ãƒãƒ«ã‚®ãƒƒã‚·ãƒ¥ã§ã€ãƒ“ã‚¸ãƒã‚¹ã‚„å–¶æ¥­ã€æˆåŠŸé‹ã‚’é«˜ã‚ãŸã„äººã«æœ€é©ã€‚",
    energy: "åŠ›å¼·ã„ãƒ»æˆåŠŸå¿—å‘ãƒ»ç‰©è³ªçš„è±Šã‹ã•",
    suitableFor: ["ãƒ“ã‚¸ãƒã‚¹", "å–¶æ¥­", "æˆåŠŸè¿½æ±‚", "æ¨©åŠ›è€…"],
    drivingStyle: "åŠ›å¼·ãè‡ªä¿¡ã«æº€ã¡ãŸé‹è»¢",
    familyCompatibility: "å®¶æ—ã«æˆåŠŸã¨è±Šã‹ã•ã‚’ã‚‚ãŸã‚‰ã™",
    businessUse: "çµŒå–¶è€…ã‚„ç®¡ç†è·ã«æœ€é©",
    color: "#FFD700",
    emoji: "ğŸ’ª",
  },
  9: {
    number: 9,
    name: "æ¨¡ç¯„ã‚«ãƒ¼",
    personality: "ç¤¾ä¼šæ€§ã‚„æ€ã„ã‚„ã‚ŠãŒã‚ã‚Šã€ãƒ«ãƒ¼ãƒ«ã‚’å®ˆã‚‹è½ã¡ç€ã„ãŸå¤§äººã®è»Šã€‚",
    energy: "å®Œæˆãƒ»å¥‰ä»•ãƒ»æ™®éçš„æ„›",
    suitableFor: ["ç¤¾ä¼šè²¢çŒ®", "ãƒœãƒ©ãƒ³ãƒ†ã‚£ã‚¢", "æ•™è‚²", "æŒ‡å°"],
    drivingStyle: "æ¨¡ç¯„çš„ã§æ€ã„ã‚„ã‚Šã®ã‚ã‚‹é‹è»¢",
    familyCompatibility: "å®¶æ—ã«é«˜ã„ç†æƒ³ã¨æ€ã„ã‚„ã‚Šã‚’ç¤ºã™",
    businessUse: "æ•™è‚²ã‚„ç¤¾ä¼šè²¢çŒ®äº‹æ¥­ã«å‘ã",
    color: "#87CEEB",
    emoji: "ğŸŒŸ",
  },
  11: {
    number: 11,
    name: "ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚«ãƒ¼",
    personality: "ç›´æ„Ÿã‚„ã²ã‚‰ã‚ãã‚’ã‚‚ãŸã‚‰ã—ã€ç‰¹åˆ¥ãªç¸ã‚„å‡ºä¼šã„ã‚’å¼•ãå¯„ã›ã‚‹ã€‚å€‹æ€§çš„ã§ç›®ç«‹ã¤å­˜åœ¨ã€‚",
    energy: "ç›´æ„Ÿçš„ãƒ»éœŠæ„Ÿçš„ãƒ»ç‰¹åˆ¥ãªä½¿å‘½",
    suitableFor: ["èŠ¸è¡“å®¶", "ã‚¹ãƒ”ãƒªãƒãƒ¥ã‚¢ãƒ«", "ç‰¹åˆ¥ãªå‡ºä¼šã„", "å‰µä½œæ´»å‹•"],
    drivingStyle: "ç›´æ„Ÿçš„ã§ç‹¬ç‰¹ãªé‹è»¢ã‚¹ã‚¿ã‚¤ãƒ«",
    familyCompatibility: "å®¶æ—ã«ç‰¹åˆ¥ãªä½“é¨“ã¨ã‚¤ãƒ³ã‚¹ãƒ”ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä¸ãˆã‚‹",
    businessUse: "ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–æ¥­ç•Œã‚„ç²¾ç¥çš„ãªä»•äº‹ã«å‘ã",
    color: "#E6E6FA",
    emoji: "âœ¨",
  },
  22: {
    number: 22,
    name: "ãƒ‘ãƒ¯ãƒ¼ã‚¹ãƒãƒƒãƒˆã‚«ãƒ¼",
    personality: "å¤§ããªç›®æ¨™ã‚„å¤¢ã‚’ç¾å®ŸåŒ–ã™ã‚‹åŠ›ã€‚å®‰å®šæ„Ÿã¨ã‚¹ã‚±ãƒ¼ãƒ«ã®å¤§ãã•ã§ã€é•·è·é›¢ã‚„å¤§äººæ•°ã«ã‚‚å‘ãã€‚",
    energy: "å®Ÿç¾åŠ›ãƒ»å»ºè¨­çš„ãƒ»å¤§è¦æ¨¡ãªå½±éŸ¿åŠ›",
    suitableFor: ["å¤§ããªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ", "é•·è·é›¢ç§»å‹•", "å¤§äººæ•°", "ç¤¾ä¼šçš„å½±éŸ¿"],
    drivingStyle: "å®‰å®šæ„ŸãŒã‚ã‚Šå¤§ããªã‚¹ã‚±ãƒ¼ãƒ«ã®é‹è»¢",
    familyCompatibility: "å®¶æ—ã®å¤§ããªå¤¢ã‚„ç›®æ¨™ã‚’æ”¯æ´",
    businessUse: "å¤§ä¼æ¥­ã‚„å¤§è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«æœ€é©",
    color: "#20B2AA",
    emoji: "ğŸ—ï¸",
  },
  33: {
    number: 33,
    name: "ã‚«ãƒªã‚¹ãƒã‚«ãƒ¼",
    personality: "ç„¡å„Ÿã®æ„›ã‚„å¥‰ä»•ã€ç™’ã—ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’æŒã¡ã€äººã‚’æƒ¹ãã¤ã‘ã‚‹é­…åŠ›ã€‚å®¶æ—ã‚„ä»²é–“ã«å®‰å¿ƒæ„Ÿã‚’ä¸ãˆã‚‹ã€‚",
    energy: "ç„¡æ¡ä»¶ã®æ„›ãƒ»ç™’ã—ãƒ»ã‚«ãƒªã‚¹ãƒæ€§",
    suitableFor: ["ç™’ã—", "å¥‰ä»•æ´»å‹•", "ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—", "äººã‚’æƒ¹ãã¤ã‘ã‚‹"],
    drivingStyle: "æ„›æƒ…æ·±ãåŒ…å®¹åŠ›ã®ã‚ã‚‹é‹è»¢",
    familyCompatibility: "å®¶æ—å…¨ä½“ã‚’ç™’ã—ã€çµæŸã‚’å¼·ã‚ã‚‹",
    businessUse: "ãƒ’ãƒ¼ãƒªãƒ³ã‚°æ¥­ç•Œã‚„ã‚«ã‚¦ãƒ³ã‚»ãƒªãƒ³ã‚°ã«å‘ã",
    color: "#FF69B4",
    emoji: "ğŸ’–",
  },
}

// ãƒŠãƒ³ãƒãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰æ•°ç§˜è¡“ã®æ•°å­—ã‚’è¨ˆç®—
export function calculateNumerologyNumber(carNumber: string): number {
  // æ•°å­—ã®ã¿ã‚’æŠ½å‡º
  const numbers = carNumber
    .replace(/[^0-9]/g, "")
    .split("")
    .map(Number)

  if (numbers.length === 0) return 1

  console.log(`å…¥åŠ›: ${carNumber}`)
  console.log(`æŠ½å‡ºã•ã‚ŒãŸæ•°å­—: ${numbers.join(", ")}`)

  // æ•°å­—ã‚’åˆè¨ˆ
  let sum = numbers.reduce((acc, num) => acc + num, 0)
  console.log(`åˆå›åˆè¨ˆ: ${sum}`)

  // ãƒã‚¹ã‚¿ãƒ¼ãƒŠãƒ³ãƒãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯
  if (sum === 11 || sum === 22 || sum === 33) {
    console.log(`ãƒã‚¹ã‚¿ãƒ¼ãƒŠãƒ³ãƒãƒ¼: ${sum}`)
    return sum
  }

  // ä¸€æ¡ã«ãªã‚‹ã¾ã§è¶³ã—ç¶šã‘ã‚‹
  while (sum > 9) {
    const oldSum = sum
    sum = sum
      .toString()
      .split("")
      .map(Number)
      .reduce((acc, num) => acc + num, 0)

    console.log(`${oldSum} â†’ ${sum}`)

    // è¨ˆç®—é€”ä¸­ã§ãƒã‚¹ã‚¿ãƒ¼ãƒŠãƒ³ãƒãƒ¼ãŒå‡ºãŸå ´åˆ
    if (sum === 11 || sum === 22 || sum === 33) {
      console.log(`è¨ˆç®—é€”ä¸­ã§ãƒã‚¹ã‚¿ãƒ¼ãƒŠãƒ³ãƒãƒ¼: ${sum}`)
      return sum
    }
  }

  console.log(`æœ€çµ‚çµæœ: ${sum}`)
  return sum
}

export function getCarNumerologyData(carNumber: string): CarNumerologyData {
  const numerologyNumber = calculateNumerologyNumber(carNumber)
  return carNumerologyData[numerologyNumber] || carNumerologyData[1]
}
